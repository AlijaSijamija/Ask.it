{"ast":null,"code":"import { LIKE_CREATE_SUCCESS, LIKE_CREATE_ERROR, GET_LIKES_SUCCESS, GET_LIKES_ERROR, LIKE_DELETE_SUCCESS, LIKE_DELETE_ERROR } from '../likeTypes';\nexport const initState = {\n  likeItems: [],\n  likesError: null\n};\nexport const likesState = (state = initState, action) => {\n  const {\n    payload,\n    type\n  } = action;\n\n  switch (type) {\n    case GET_LIKES_SUCCESS:\n      return { ...state,\n        likeItems: [...state.likeItems, {\n          questionID: payload.questionID,\n          likes: payload.likes\n        }],\n        likesError: null\n      };\n\n    case GET_LIKES_ERROR:\n      return { ...state,\n        likesError: payload,\n        likeItems: []\n      };\n\n    case LIKE_CREATE_SUCCESS:\n      return { ...state,\n        likeItems: state.likeItems.map(likeItem => likeItem.questionID === payload.questionID ? { ...likeItem,\n          likes: [...likeItem.likes, payload.oneLike]\n        } : likeItem),\n        likesError: null\n      };\n\n    case LIKE_CREATE_ERROR:\n      return { ...state,\n        likesError: payload\n      };\n\n    case LIKE_DELETE_SUCCESS:\n      return { ...state,\n        likeItems: state.likeItems.map(likeItem => Number(likeItem.questionID) === payload.questionID ? { ...likeItem,\n          likes: likeItem.likes.filter(({\n            id\n          }) => id !== payload.likeID)\n        } : likeItem)\n      };\n\n    case LIKE_DELETE_ERROR:\n      return { ...state,\n        likesError: payload\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["C:/Users/admin/Desktop/Ask.it/Frontend/src/store/modules/likes/reducer/likesReducer.js"],"names":["LIKE_CREATE_SUCCESS","LIKE_CREATE_ERROR","GET_LIKES_SUCCESS","GET_LIKES_ERROR","LIKE_DELETE_SUCCESS","LIKE_DELETE_ERROR","initState","likeItems","likesError","likesState","state","action","payload","type","questionID","likes","map","likeItem","oneLike","Number","filter","id","likeID"],"mappings":"AAAA,SAASA,mBAAT,EACIC,iBADJ,EAEIC,iBAFJ,EAGIC,eAHJ,EAIIC,mBAJJ,EAKIC,iBALJ,QAK6B,cAL7B;AAOA,OAAO,MAAMC,SAAS,GAAG;AACvBC,EAAAA,SAAS,EAAG,EADW;AAEvBC,EAAAA,UAAU,EAAE;AAFW,CAAlB;AAMP,OAAO,MAAMC,UAAU,GAAG,CAACC,KAAK,GAAGJ,SAAT,EAAoBK,MAApB,KAA+B;AACvD,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA;AAAX,MAAqBF,MAA3B;;AACA,UAAOE,IAAP;AAEE,SAAKX,iBAAL;AACE,aAAO,EACL,GAAGQ,KADE;AAELH,QAAAA,SAAS,EAAE,CAAC,GAAGG,KAAK,CAACH,SAAV,EAAqB;AAAEO,UAAAA,UAAU,EAAEF,OAAO,CAACE,UAAtB;AAAkCC,UAAAA,KAAK,EAAEH,OAAO,CAACG;AAAjD,SAArB,CAFN;AAGLP,QAAAA,UAAU,EAAE;AAHP,OAAP;;AAMF,SAAKL,eAAL;AACE,aAAO,EACL,GAAGO,KADE;AAELF,QAAAA,UAAU,EAAEI,OAFP;AAGLL,QAAAA,SAAS,EAAG;AAHP,OAAP;;AAMF,SAAKP,mBAAL;AACE,aAAO,EACL,GAAGU,KADE;AAELH,QAAAA,SAAS,EAAEG,KAAK,CAACH,SAAN,CAAgBS,GAAhB,CAAoBC,QAAQ,IAC3BA,QAAQ,CAACH,UAAT,KAAwBF,OAAO,CAACE,UAAhC,GACA,EAAC,GAAGG,QAAJ;AAAcF,UAAAA,KAAK,EAAE,CAAC,GAAGE,QAAQ,CAACF,KAAb,EAAoBH,OAAO,CAACM,OAA5B;AAArB,SADA,GAC6DD,QAF9D,CAFN;AAMLT,QAAAA,UAAU,EAAE;AANP,OAAP;;AASF,SAAKP,iBAAL;AACE,aAAO,EACL,GAAGS,KADE;AAELF,QAAAA,UAAU,EAAEI;AAFP,OAAP;;AAKF,SAAKR,mBAAL;AACE,aAAO,EACL,GAAGM,KADE;AAELH,QAAAA,SAAS,EAAEG,KAAK,CAACH,SAAN,CAAgBS,GAAhB,CAAoBC,QAAQ,IAC3BE,MAAM,CAACF,QAAQ,CAACH,UAAV,CAAN,KAAgCF,OAAO,CAACE,UAAxC,GACA,EAAC,GAAGG,QAAJ;AAAcF,UAAAA,KAAK,EAAEE,QAAQ,CAACF,KAAT,CAAeK,MAAf,CAAsB,CAAC;AAACC,YAAAA;AAAD,WAAD,KAAUA,EAAE,KAAKT,OAAO,CAACU,MAA/C;AAArB,SADA,GACgFL,QAFjF;AAFN,OAAP;;AAQF,SAAKZ,iBAAL;AACE,aAAO,EACL,GAAGK,KADE;AAELF,QAAAA,UAAU,EAAEI;AAFP,OAAP;;AAIF;AACE,aAAOF,KAAP;AA/CJ;AAiDD,CAnDM","sourcesContent":["import { LIKE_CREATE_SUCCESS, \r\n    LIKE_CREATE_ERROR, \r\n    GET_LIKES_SUCCESS, \r\n    GET_LIKES_ERROR, \r\n    LIKE_DELETE_SUCCESS, \r\n    LIKE_DELETE_ERROR } from '../likeTypes'\r\n\r\nexport const initState = {\r\n  likeItems : [],\r\n  likesError: null\r\n}\r\n\r\n\r\nexport const likesState = (state = initState, action) => {\r\n  const { payload, type }  = action;\r\n  switch(type) {\r\n    \r\n    case GET_LIKES_SUCCESS:\r\n      return { \r\n        ...state, \r\n        likeItems: [...state.likeItems, { questionID: payload.questionID, likes: payload.likes  } ],\r\n        likesError: null\r\n      }\r\n\r\n    case GET_LIKES_ERROR:\r\n      return { \r\n        ...state, \r\n        likesError: payload, \r\n        likeItems : [],\r\n      }\r\n\r\n    case LIKE_CREATE_SUCCESS:\r\n      return { \r\n        ...state, \r\n        likeItems: state.likeItems.map(likeItem => \r\n                    likeItem.questionID === payload.questionID ? \r\n                    {...likeItem, likes: [...likeItem.likes, payload.oneLike]} : likeItem\r\n        ),\r\n        likesError: null\r\n     }\r\n\r\n    case LIKE_CREATE_ERROR:\r\n      return { \r\n        ...state, \r\n        likesError: payload \r\n      }\r\n\r\n    case LIKE_DELETE_SUCCESS:\r\n      return { \r\n        ...state, \r\n        likeItems: state.likeItems.map(likeItem => \r\n                    Number(likeItem.questionID) === payload.questionID ? \r\n                    {...likeItem, likes: likeItem.likes.filter(({id}) => id !== payload.likeID) } : likeItem\r\n        )\r\n      }\r\n\r\n    case LIKE_DELETE_ERROR:\r\n      return { \r\n        ...state, \r\n        likesError: payload \r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}